<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Test</title>

    <link rel="stylesheet" href="/css/style.css">
    <!-- <script src="https://cdn.jsdelivr.net/npm/phaser@3.22.0/dist/phaser.js"></script> -->
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.22.0/dist/phaser.min.js"></script>
</head>

<body>
    <script>
        var mazePuzzle;

        var graphics;
        var towers = []
        var tower1; //test
        var temp;
        var bullets = []
        var follower = null;
        var isBuying = false;
        var monsterVecs = []
        var range = 80
        var COLLISION = [
            [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1],
            [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1],
            [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1],
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            [1, 1, 1, 1, 1, 1, 1, 1, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1],
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
            [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
        ];

        var START_POS = [0, 0];
        var END_POS = [12, 12];

        var OFFSET_Y = 100;
        var OFFSET_RIGHT_X = 180;
        var OFFSET_DOWN_Y = 30;
        var GAME_WIDTH = 520;
        var GAME_HEIGHT = 520;
        var CELL_SIZE = 40;


        var monsters = [];
        var pathOfMonsters = []

        var gold = null;
        var tower = null;

        var goldText = null;

        var config = {
            type: Phaser.AUTO,
            width: 700,
            height: 650,
            physics: {
                default: 'arcade',
                arcade: {
                    debug: true,

                }
            },
            scene: {
                preload: preload,
                create: create,
                update: update
            }
        };

        var game = new Phaser.Game(config);


        function preload() {
            this.load.image('atari1', '/img/bullet.png');
            this.load.image('bigBee', '/img/bigBee.png');
            this.load.spritesheet('ani_beast', '/img/ani_beast.png', { frameWidth: 32, frameHeight: 53 });
            this.load.image('square', '/img/square1.png');
        }

        function create() {

            this.anims.create({
                key: 'run',
                frames: 'ani_beast',
                frameRate: 10,
                repeat: -1
            });

          

            // this.anims.create({
            //     key: 'turn',
            //     frames: [{ key: 'dude', frame: 4 }],
            //     frameRate: 20
            // });

            


            let monster = this.physics.add.sprite(20, 100, "ani_beast")
            monster.anims.play('run', true);

        }

        function update() {

        }

    </script>
</body>

</html>